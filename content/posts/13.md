+++
title = "mall0c [0x00000001]"
date = 2024-01-22T04:33:12.000Z

[extra]
images = []
+++

Эх вот если бы я раньше пощупал <a href="https://nodered.org/">Node-RED.</a> С этим офигенным тулом программирования можно автоматизировать все… ну почти все. Да, он не для всех, обычный пользователь не вкуривающий базовые вещи по сетям и не знающий JavaScript пожалуй предпочтет <a href="https://ifttt.com/">IFTTT</a> или <a href="https://zapier.com/">Zapier.</a>  
  
Сколько я трахался с IFTTT в течение последних нескольких лет, с их постоянным введением новых лимитов и предложением подписки и прочей фигней. Стоило мне поднять на моем raspberry pi 4 докер контейнер с Node-RED и я получил столько возможностей и гибкости сколько мне не видать на IFTTT или Zapier никогда. Особенно при наличии выделенного IP-адреса возможности, в плане автоматизации IoT в связке с различными API и онлайн сервисами, почти безграничные.  
  
Например, вся информация о посетителях моего сайта теперь идет напрямую через Node-RED flow в приватный телеграм канал. Раньше я это делал через Cloudflare Worker, который определял geolocation и некоторые другие вещи по мелочи и потом отправлял данные в тг канал через IFTTT webhook. Но IFTTT сделал webhook премиум фичей и оказалось что реализация fetch в Cloudflare Worker не работает с нестандартными портами, например я не могу использовать <code>https://&lt;hostname&gt;:8443/api</code> как url, оно срезает 8443 порт. В общем я послал нах оба сервиса, установил и сконфигурировал пару Node-RED нодов (для определения геолокации - <a href="https://flows.nodered.org/node/node-red-contrib-ip-location-lite">node-red-contrib-ip-location-lite</a> и для создания простеньких тг ботов - <a href="https://flows.nodered.org/node/node-red-contrib-telegrambot">node-red-contrib-telegrambot</a>), реализовал пару JS функций и всякое по мелочи, соединил это все в flow. И вуаля, все работает  
  
Еще создал простенький flow для авто-постинга с сайта в телеграм канал - каждые 15 минут <a href="https://flows.nodered.org/node/node-red-node-feedparser">feed parser</a> определяет есть ли новые посты в feed.xml в формате atom и если есть, то обрабатывает и постит в тг канале.  
  
В общем, давно пора было все хостить полностью на дому, без этой всякой облачной хрени с кучей ограничений.  
